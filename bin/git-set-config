#!/usr/bin/env bash

set -euo pipefail

function main {
	local email=${1:-${GITEMAIL}}
	if [ -z "$email" ]; then
		echo >&2 "Please provide the email"
		return 1
	fi
	local name=${2:-${GITNAME}}
	if [ -z "$name" ]; then
		echo >&2 "Please define the GITNAME environment variable or provide a second parameter to this command"
		return 1
	fi
	git config user.name "$name"
	git config user.email "${email}"
	git config user.signingkey "${email}"
}

main "$@"
