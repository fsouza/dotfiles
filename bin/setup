#!/bin/bash -e

# This script setups this repository, intializing the submodules, setting up
# symlinks and copying any required files.

basedir=$(cd $(dirname $0)/..; pwd -P)

pushd $basedir
git submodule update --init --recursive
popd

files=".bash_profile .clang-format .gitconfig .gitignore_global .hgignore_global .hgrc"
for file in $files; do
	ln -sf ${basedir}/${file} ~/${file}
done

mkdir -p ~/.gnupg
ln -sf ${basedir}/gpg.conf ~/.gnupg/gpg.conf

if [ -d $HOME/Library/Fonts ]; then
	cp ${basedir}/extra/fonts/* $HOME/Library/Fonts/
fi
