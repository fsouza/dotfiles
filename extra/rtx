# Note: right now I only use rtx to manage the versions of Java.
#
# One day I may use it to manage Ruby and Python too, but I don't like the idea
# of compiling Python and Ruby to be able to use it.

function __setup_rtx {
	export RTX_DATA_DIR=${HOME}/.local/share/rtx
	export RTX_CACHE_DIR=${HOME}/.cache/rtx
	export RTX_CONFIRM=yes
	export RTX_DEFAULT_CONFIG_FILENAME=.rtx.fsouza.toml
	export RTX_DEFAULT_TOOL_VERSIONS_FILENAME=.tool-versions.fsouza.not-really

	function rtx-install {
		local plugin=$1
		if [ -z "${plugin}" ]; then
			echo >&2 "please specify the plugin (example: 'java')"
			return 1
		fi

		local version=$(rtx ls-remote ${plugin} | fzf)
		rtx install ${plugin}@${version}
	}
}

if command -v rtx &>/dev/null; then
	__setup_rtx
fi
